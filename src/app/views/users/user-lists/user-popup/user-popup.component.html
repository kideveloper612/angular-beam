<h1 matDialogTitle>{{data.title}}</h1>

<form [formGroup]="itemForm" (ngSubmit)="submit()">
  <div fxLayout="row wrap" fxLayout.lt-sm="column">

    <div fxFlex="100" class="pr-1 avatar-container mb-1">
      <img class="profile-avatar rounded-circle" [src]="imgURL? imgURL: 'assets/images/avatar_placeholder.png'" 
      style="width: 180px; height: 180px;" (click)="openFileDialog()">
      <input #FileSelectInputDialog (change)="onSelectFile($event)" required accept=".png, .jpg, .jpeg" type="file"
        style="display: none;" />
    </div>
    <div fxFlex="100" class="pr-1">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Name</mat-label>
        <input appearance="fill" matInput name="username" [formControl]="itemForm.controls['name']" placeholder="Name">
      </mat-form-field>
    </div>

    <div fxFlex="100" class="pr-1">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Eamil</mat-label>
        <input matInput name="email" [formControl]="itemForm.controls['email']" placeholder="Email">
      </mat-form-field>
    </div>

    <div fxFlex="100" class="pr-1">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Role</mat-label>
        <mat-select [formControl]="itemForm.controls['role']">
          <mat-option *ngFor="let option of roles" [value]="option">{{ option }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div fxFlex="100" class="pr-1">
      <mat-form-field class="full-width" appearance="fill">
        <mat-label>Phone number</mat-label>
        <input matInput name="phoneNumber" [formControl]="itemForm.controls['phoneNumber']" placeholder="Phone number">
      </mat-form-field>
    </div>

    <div class="pt-1 pr-1">
      <mat-slide-toggle [formControl]="itemForm.controls['verified']">Active User</mat-slide-toggle>
    </div>

    <div class="width-100 " fxLayout="row" fxLayoutAlign="space-between center">
      <div class="pt-1 pr-1">
      </div>
      <div class="mt-1">
        <button mat-raised-button color="primary"
          [disabled]="itemForm.invalid">{{data.isNew? 'CREATE' : 'UPDATE'}}</button>
        <span fxFlex></span>
        <button mat-button color="warn" type="button" (click)="dialogRef.close(false)">CANCEL</button>
      </div>
    </div>

  </div>
</form>